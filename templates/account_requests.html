{% extends 'base.html' %}
{% block content %}

<div class="page-toolbar">
  <div class="page-toolbar__title">
    <h2>Account Requests</h2>
    <div class="page-toolbar__subtitle">Admin-only view of pending account requests submitted via the Request Account form.</div>
  </div>
  <div class="page-toolbar__actions">
    <a class="btn btn--secondary" href="{{ url_for('manage_users') }}">Manage Users</a>
  </div>
</div>

{% if requests %}
<div class="table-wrap">
<table>
  <thead>
    <tr>
      <th>Full Name</th>
      <th>Email</th>
      <th>Desired Username</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    {% for r in requests %}
    <tr>
      <td>{{ r.full_name or '' }}</td>
      <td>{{ r.email }}</td>
      <td>{{ r.desired_username }}</td>
      <td>{{ r.notes }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
</div>
{% else %}
<div class="empty-state">
  <div class="empty-state__title">No account requests found</div>
  <div class="empty-state__hint">When someone requests access, it will appear here.</div>
</div>
{% endif %}

<p>
  You can create users and assign roles on the <a href="{{ url_for('manage_users') }}">Users</a> page.
</p>
{% endblock %}
